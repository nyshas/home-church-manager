{%  extends "base.html" %}

{% block title %} All Members {% endblock %}
{% block content %}

<div class="container-fluid">
<h1>All Members</h1>
    <div class="row">
        <div class="col form-group pull-right">
            <div class="inner-addon right-addon">
                <i class="glyphicon glyphicon-search"></i>
                <input type="text" class="search form-control" placeholder="Search">
            </div>
        </div>
        <div class="col form-group pull-right">
            Show Inactive Members
            {% if showInactive %}
                {% set showInactive = True %}
                <a onclick={% set showInactive = True %} href="{{url_for('all_members', members = members, inactiveMembers = inactiveMembers, showInactive = True)}}"><button class="btn btn-secondary" > <span class="glyphicon glyphicon-ok"></span> </button></a>
                {% set showInactive = True %}
            {% else: %}
                <a onclick={% set showInactive = True %} href="{{url_for('all_members', members = members, inactiveMembers = inactiveMembers, showInactive = True)}}"><button class="btn btn-secondary" > &nbsp; &nbsp;</button></a>
            {% endif %}
        </div>

        <div class="col form-group pull-left">
            <a href="{{url_for('create_member')}}" class="btn btn-primary">
                <span class="glyphicon glyphicon-plus"></span>
                Add Member
             </a>
        </div>
        <div class="col form-group pull-left">
            <a href="#" class="btn btn-primary">
                <span class="glyphicon glyphicon-envelope"></span>
                Contact
            </a>
        </div>
    </div>
</div>

<span class="counter pull-right"></span>
<table class="table table-striped table-bordered table-hover results">
    <thead>
    <tr>
        <th> First Name</th>
        <th> Last Name</th>
        {% if showInactive %}
            <th> Inactive? </th>
        {% endif %}
        <th> </th>
    </tr>
    </thead>
    <tbody>
    {% for member in members %}
    <tr>
        <td> {{ member.first_name }}</td>
        <td> {{ member.last_name }}</td>
        {% if showInactive %}
            <td> <button class="btn btn-secondary"> &nbsp; &nbsp;</button></td>
        {% endif %}
        <td>
        <a href="{{url_for('edit_member', member_id = member.id)}}" class="btn btn-info btn-sm">
          <span class="glyphicon glyphicon-pencil"></span> Edit
        </a>
        <a href="{{url_for('deactivate_member', member_id = member.id)}}" class="btn btn-danger btn-sm">
          <span class="glyphicon glyphicon-trash"></span> Remove
        </a>
        </td>
    </tr>
    {% endfor %}
    {% if showInactive %}
        {%  for inactiveMember in inactiveMembers %}
            <tr>
            <td> {{ inactiveMember.first_name }}</td>
            <td> {{ inactiveMember.last_name }}</td>
            <td> <button class="btn btn-secondary"> <span class="glyphicon glyphicon-ok"></span> </button></td>
            <td>
            <a href="{{url_for('edit_member', member_id = inactiveMember.id)}}" class="btn btn-info btn-sm">
              <span class="glyphicon glyphicon-pencil"></span> Edit
            </a>
            <a href="{{url_for('deactivate_member', member_id = inactiveMember.id)}}" class="btn btn-danger btn-sm">
              <span class="glyphicon glyphicon-trash"></span> Remove
            </a>
            </td>
        {% endfor %}
    {% endif %}
    </tbody>
</table>

</div>
{% endblock %}
